using System.Numerics;
using FancyWindow = Content.Client.UserInterface.Controls.FancyWindow;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.XAML;
using Content.Shared.VendingMachines;

namespace Content.Client.VendingMachines.UI;

[GenerateTypedNameReferences]
public sealed partial class VendingMachineWindow : FancyWindow
{
    public VendingMachineWindow()
    {
        MinSize = SetSize = new Vector2(250, 150);
        RobustXamlLoader.Load(this);
        IoCManager.InjectDependencies(this);
    }

    /// <summary>
    ///     Populates the Vending Machine control, and resizes the window to fit.
    /// </summary>
    public void PopulateVendingMachine(List<VendingMachineInventoryEntry> inventory, bool enabled)
    {
        VendingMachine.Populate(inventory, enabled, out var size);
        SetSize = size;
    }
}
