using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.SprayPainter.Airlocks.UI;

[GenerateTypedNameReferences]
public sealed partial class AirlockPainterWindow : Control
{
    public AirlockPainterWindow(
        IReadOnlyList<SprayPainterEntry> entries,
        Shared.SprayPainter.Airlocks.Components.AirlockPainterComponent component,
        Action<int> onSpritePicked
    )
    {
        RobustXamlLoader.Load(this);
        IoCManager.InjectDependencies(this);

        foreach (var entry in entries)
        {
            SpriteList.AddItem(entry.Name, entry.Icon);
        }

        SpriteList[component.Index].Selected = true;
        SpriteList.OnItemSelected += args => onSpritePicked(args.ItemIndex);
    }
}
