using Content.Shared.CartridgeLoader.Cartridges;
using Robust.Client.AutoGenerated;
using Robust.Client.Graphics;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.CartridgeLoader.Cartridges;

[GenerateTypedNameReferences]
public sealed partial class NanoTaskTable : BoxContainer
{
    public List<NanoTaskItemAndDepartment> Tasks = [];

    public NanoTaskTable()
    {
        RobustXamlLoader.Load(this);

        HighPriority.HeaderLabel.Text = Loc.GetString("nano-task-ui-heading-high-priority-tasks", ("amount", 0));
        MediumPriority.HeaderLabel.Text = Loc.GetString("nano-task-ui-heading-medium-priority-tasks", ("amount", 0));
        LowPriority.HeaderLabel.Text = Loc.GetString("nano-task-ui-heading-low-priority-tasks", ("amount", 0));

        MediumPriority.PanelContainer.PanelOverride = new StyleBoxFlat()
        {
            BackgroundColor = Color.FromHex("#ef973c"),
        };

        LowPriority.PanelContainer.PanelOverride = new StyleBoxFlat()
        {
            BackgroundColor = Color.FromHex("#3dd425"),
        };
    }

    public void Clear()
    {
        HighContainer.RemoveAllChildren();
        MediumContainer.RemoveAllChildren();
        LowContainer.RemoveAllChildren();
    }
}
