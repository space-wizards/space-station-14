# Mailcart
- type: entity
  name: mail cart
  id: MailCart
  parent: [BaseStructureDynamic, StructureWheeled]
  description: Deliver packages with style and efficiency.
  components:
    - type: Sprite
      noRot: true
      sprite: Objects/Specific/Cargo/mailcart.rsi
      layers:
        - state: base
    # - type: Rotatable
    - type: InteractionOutline
    # Removing storage until OnInteractUsing logic resolved
    #- type: Storage
    #  popup: false
    #  capacity: 80
    #  blacklist: # there is exclusive item slots for that
    #    tags:
    #      - Package
    - type: ItemSlots
      slots:
        package_slot1:
          name: mailcart-slot-component-slot-name-package-1
          whitelist:
            components:
              - PackageDelivery
          # insertOnInteract: true
          priority: 1
        package_slot2:
          name: mailcart-slot-component-slot-name-package-2
          whitelist:
            components:
              - PackageDelivery
          # insertOnInteract: true
          priority: 2
        package_slot3:
          name: mailcart-slot-component-slot-name-package-3
          whitelist:
            components:
              - PackageDelivery
          # insertOnInteract: true
          priority: 3
        package_slot4:
          name: mailcart-slot-component-slot-name-package-4
          whitelist:
            components:
              - PackageDelivery
          # insertOnInteract: true
          priority: 4
        letter_slot1:
          name: mailcart-slot-component-slot-name-letter-1
          whitelist:
            components:
              - LetterDelivery
          insertOnInteract: true
          priority: 5
    # - type: Fixtures
    #   fixtures:
    #     fix1:
    #       shape:
    #         !type:PhysShapeCircle
    #         radius: 0.3
    #       density: 250
    #       layer:
    #       - MobLayer
    #       mask:
    #       - MobMask
    - type: Damageable
      damageContainer: Inorganic
      damageModifierSet: Metallic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 400
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 200
          behaviors:
            - !type:EmptyAllContainersBehaviour
            - !type:DoActsBehavior
              acts: ["Destruction"]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalBreak
    - type: ItemMapper
      mapLayers:
        package_slot1:
          whitelist:
            tags:
              - PackageDelivery
        package_slot2:
          whitelist:
            tags:
            - PackageDelivery
        package_slot3:
          whitelist:
            tags:
              - PackageDelivery
        package_slot4:
          whitelist:
            tags:
              - PackageDelivery
      sprite: Objects/Specific/Cargo/mailcart.rsi
    - type: Appearance
    - type: UserInterface
      interfaces:
        enum.StorageUiKey.Key:
          type: StorageBoundUserInterface
    - type: ContainerContainer
      containers:
        storagebase: !type:Container
          ents: []
        package_slot1: !type:ContainerSlot {}
        package_slot2: !type:ContainerSlot {}
        package_slot3: !type:ContainerSlot {}
        package_slot4: !type:ContainerSlot {}
        letter_slot1: !type:ContainerSlot {}
    # - type: GuideHelp
    #   guides:
    #   - Cargo
    - type: DnaSubstanceTrace
