- type: entity
  name: tape recorder
  parent: BaseItem
  description: Anything said into this device can and will be used against you in a court of space law.
  id: TapeRecorder
  components:
    - type: Sprite
      sprite: Objects/Devices/tape_recorder.rsi
      netsync: false
      layers:
        - state: taperecorder_empty
          map: ["base"]
    - type: Item
      sprite: Objects/Devices/tape_recorder.rsi
      heldPrefix: taperecorder_empty
      size: Small
    - type: TapeRecorder
    - type: ActiveListener
      range: 4
    - type: ItemCooldown
    - type: UseDelay
      delay: 1
    - type: Speech
    - type: ItemSlots
      slots:
        cassette_tape:
          priority: 4
          whitelist:
            components:
              - FitsInTapeRecorder
    - type: ContainerContainer
      containers:
        cassette_tape: !type:ContainerSlot
    - type: Appearance
    - type: GenericVisualizer
      visuals:
        enum.TapeRecorderVisuals.Status:
          base:
            Empty: { state: "taperecorder_empty" }
            Stopped: { state: "taperecorder_idle" }
            Playing: { state: "taperecorder_playing" }
            Recording: { state: "taperecorder_recording" }
            Rewinding: { state: "taperecorder_rewinding" }

- type: entity
  name: cassette tape
  parent: BaseItem
  description: A magnetic tape that can hold up to three minutes of content on either side.
  id: BaseCassetteTape
  abstract: true
  components:
    - type: Sprite
      sprite: Objects/Devices/cassette_tapes.rsi
      layers:
      - state: tape_greyscale
      - state: tape_ribbonoverlay
        map: [ "enum.ToggleVisuals.Layer" ]
        visible: false
      netsync: false
    - type: Item
      sprite: Objects/Devices/cassette_tapes.rsi
      heldPrefix: tape_greyscale
      size: Tiny
    - type: Damageable
    - type: TapeCassette
      maxCapacity: 180
    - type: FitsInTapeRecorder
    - type: Appearance
    - type: GenericVisualizer
      visuals:
        enum.ToggleVisuals.Toggled:
          enum.ToggleVisuals.Layer:
            True: { visible: true }
            False: { visible: false }

- type: entity
  name: blue cassette tape
  parent: BaseCassetteTape
  id: BlueCassetteTape
  components:
    - type: Sprite
      sprite: Objects/Devices/cassette_tapes.rsi
      layers:
        - state: tape_blue
        - state: tape_ribbonoverlay
          map: [ "enum.ToggleVisuals.Layer" ]
          visible: false
    - type: Item
      sprite: Objects/Devices/cassette_tapes.rsi
      heldPrefix: tape_blue

- type: entity
  name: red cassette tape
  parent: BaseCassetteTape
  id: RedCassetteTape
  components:
    - type: Sprite
      sprite: Objects/Devices/cassette_tapes.rsi
      layers:
        - state: tape_red
        - state: tape_ribbonoverlay
          map: [ "enum.ToggleVisuals.Layer" ]
          visible: false
    - type: Item
      sprite: Objects/Devices/cassette_tapes.rsi
      heldPrefix: tape_red

- type: entity
  name: yellow cassette tape
  parent: BaseCassetteTape
  id: YellowCassetteTape
  components:
    - type: Sprite
      sprite: Objects/Devices/cassette_tapes.rsi
      layers:
        - state: tape_yellow
        - state: tape_ribbonoverlay
          map: [ "enum.ToggleVisuals.Layer" ]
          visible: false
    - type: Item
      sprite: Objects/Devices/cassette_tapes.rsi
      heldPrefix: tape_yellow

- type: entity
  name: purple cassette tape
  parent: BaseCassetteTape
  id: PurpleCassetteTape
  components:
    - type: Sprite
      sprite: Objects/Devices/cassette_tapes.rsi
      layers:
        - state: tape_purple
        - state: tape_ribbonoverlay
          map: [ "enum.ToggleVisuals.Layer" ]
          visible: false
    - type: Item
      sprite: Objects/Devices/cassette_tapes.rsi
      heldPrefix: tape_purple

- type: entity
  name: white cassette tape
  parent: BaseCassetteTape
  id: WhiteCassetteTape
  components:
    - type: Sprite
      sprite: Objects/Devices/cassette_tapes.rsi
      layers:
        - state: tape_white
        - state: tape_ribbonoverlay
          map: [ "enum.ToggleVisuals.Layer" ]
          visible: false
    - type: Item
      sprite: Objects/Devices/cassette_tapes.rsi
      heldPrefix: tape_white

- type: entity
  name: White Cassette Tape
  suffix: Interview with Garry Smosh
  parent: WhiteCassetteTape
  id: WhiteCassetteTapeMedicalTraining
  components:
    - type: TapeCassette
      maxCapacity: 180
      recordedData:
        - timestamp: 2
          name: Phil Dervin
          message: Its 11:43am, present in the room are Phil Dervin, Detective first class, Officer Belview and Grarry Smosh, Suspect of one count of secure tresspass, four counts of assault, two counts of theft and 85 counts of disturbing the peace.
        - timestamp: 6
          name: Phil Dervin
          message: Mr Smosh, do you understand the charges you have been accused of?
        - timestamp: 14
          name: Grarry Smosh
          message: I dont care what you say, i ain't done anything.
        - timestamp: 18
          name: Phil Dervin
          message: Sir, you were caught redhanded in the Captains bedroom. In the middle of an attempt at stealing his whiskey reserve no less.
        - timestamp: 23
          name: Phil Dervin
          message: You are lucky he didnt shoot you for that.
        - timestamp: 28
          name: Grarry Smosh
          message: I didn't see no signs saying i couldnt be there.
        - timestamp: 34
          name: Phil Dervin
          message: The Captains bedroom? I don't think we need a sign telling people to stay out - its common sense.
        - timestamp: 38
          name: Phil Dervin
          message: Anyway thats besides the point, even if it were not off limits there is still the matter of the restricted items we found on your person and the subsequent attempt at evading arrest.
        - timestamp: 42
          name: Grarry Smosh
          message: I ain't done nothing.
        - timestamp: 46
          name: Officer Belview
          message: You slipped 3 officers, stole a stun baton and beat Ian with it. The HOP was very upset at that last part.
        - timestamp: 50
          name: Grarry Smosh
          message: Which one of you gave the HOP a disabler?
        - timestamp: 54
          name: Phil Dervin
          message: The Warden did, turned out to be a good idea eh?
        - timestamp: 58
          name: Officer Belview
          message: I would say so.


- type: entity
  name: tape recorder kit
  parent: BoxCardboard
  id: BoxTapeRecorder
  description: A kit with colorful cassette tapes and a tape recorder.
  components:
    - type: StorageFill
      contents:
        - id: BlueCassetteTape
          amount: 1
        - id: RedCassetteTape
          amount: 1
        - id: PurpleCassetteTape
          amount: 1
        - id: WhiteCassetteTape
          amount: 1
        - id: TapeRecorder
          amount: 1
