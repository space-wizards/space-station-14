
##  Ancestors
- type: entity
  name: genetic ancestor
  id: MobBaseAncestor
  parent: [ SimpleMobBase, StripableInventoryBase ]
  description: The true great ancestor.
  abstract: true
  components:
  - type: Sprite
    drawdepth: Mobs
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      state: monkey
      sprite: Mobs/Animals/monkey.rsi
    - map: [ "jumpsuit" ]
    - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
      color: "#ffffff"
      sprite: Objects/Misc/handcuffs.rsi
      state: body-overlay-2
      visible: false
    - map: [ "ears" ]
    - map: [ "id" ]
    - map: [ "outerClothing" ]
    - map: [ "mask" ]
    - map: [ "head" ]
    - map: [ "clownedon" ]
      sprite: "Effects/creampie.rsi"
      state: "creampie_human"
      visible: false
  - type: GenericVisualizer
    visuals:
      enum.CreamPiedVisuals.Creamed:
        clownedon:
          True: {visible: true}
          False: {visible: false}
  - type: CreamPied
  - type: FireVisuals
    sprite: Mobs/Effects/onfire.rsi
    normalState: Monkey_burning
  - type: Inventory
    templateId: monkey
    speciesId: monkey
  - type: IdExaminable
  - type: RotationVisuals
    defaultRotation: 90
    horizontalRotation: 90
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 80
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: MovementSpeedModifier
    baseWalkSpeed: 2.5
    baseSprintSpeed: 4.5
  - type: MobThresholds
    thresholds:
      0: Alive
      80: Critical
      160: Dead
  - type: CombatMode
  - type: Tag
    tags:
    - VimPilot
    - DoorBumpOpener
    - AnomalyHost
  - type: Deathgasp
    prototype: MonkeyDeathgasp
  - type: Butcherable
    butcheringType: Spike
    spawned:
    - id: FoodMeat
      amount: 3
  - type: Body
    prototype: Primate
    requiredLegs: 1 # TODO: More than 1 leg
  - type: Temperature
    heatDamageThreshold: 360
    coldDamageThreshold: 285
    currentTemperature: 310.15
    specificHeat: 42
  - type: Reactive
    groups:
      Flammable: [ Touch ]
      Extinguish: [ Touch ]
    reactions:
    - reagents: [ Water, SpaceCleaner ]
      methods: [ Touch ]
      effects:
      - !type:WashCreamPieReaction
  - type: Puller
    needsHands: false
  - type: Cuffable
  - type: Stripping
  - type: Hands
  - type: ComplexInteraction
  - type: AlwaysRevolutionaryConvertible
  - type: GhostTakeoverAvailable
  - type: CanHostGuardian
  - type: NPCRetaliation
    attackMemoryLength: 10
  - type: FactionException
  - type: NpcFactionMember
    factions:
      - Passive
  - type: HTN
    rootTask:
      task: SimpleHostileCompound

##  -Monkeys
- type: entity
  name: monkey
  id: MobBaseMonkey
  parent: MobBaseAncestor
  description: New church of neo-darwinists actually believe that EVERY animal evolved from a monkey. Tastes like pork, and killing them is both fun and relaxing.
  abstract: true
  components:
  - type: Sprite
    drawdepth: Mobs
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      state: monkey
      sprite: Mobs/Animals/monkey.rsi
    - map: [ "jumpsuit" ]
    - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
      color: "#ffffff"
      sprite: Objects/Misc/handcuffs.rsi
      state: body-overlay-2
      visible: false
    - map: [ "ears" ]
    - map: [ "id" ]
    - map: [ "outerClothing" ]
    - map: [ "mask" ]
    - map: [ "head" ]
    - map: [ "clownedon" ]
      sprite: "Effects/creampie.rsi"
      state: "creampie_human"
      visible: false
  - type: NameIdentifier
    group: Monkey
  - type: MonkeyAccent
  - type: ReplacementAccent
    accent: monkey
  - type: Speech
    speechSounds: Monkey
    speechVerb: Monkey
  - type: InteractionPopup
    successChance: 0.9
    interactSuccessString: petting-success-monkey
    interactFailureString: petting-failure-monkey
    interactSuccessSpawn: EffectHearts
    interactSuccessSound:
      path: /Audio/Animals/ferret_happy.ogg
    interactFailureSound:
      path: /Audio/Items/wirecutter.ogg
  - type: MeleeWeapon
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 30
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 3
        Piercing: 3
  - type: SentienceTarget
    flavorKind: station-event-random-sentience-flavor-primate
  - type: GhostRole
    prob: 0.05
    makeSentient: true
    name: ghost-role-information-monkey-name
    description: ghost-role-information-monkey-description
    rules: ghost-role-information-nonantagonist-rules

- type: entity
  name: monkey
  id: MobMonkey
  parent: MobBaseMonkey
  components:
  - type: Clumsy
    gunShootFailDamage:
      types:
        Blunt: 5
        Piercing: 4
      groups:
        Burn: 3
    clumsySound:
      path: /Audio/Animals/monkey_scream.ogg

- type: entity
  name: monkey
  id: MobBaseSyndicateMonkey
  parent: MobBaseMonkey
  suffix: syndicate base
  components:
  - type: NpcFactionMember
    factions:
    - Syndicate
  - type: Loadout
    prototypes: [SyndicateOperativeGearMonkey]

- type: entity
  id: MobMonkeySyndicateAgent
  parent: MobBaseSyndicateMonkey
  suffix: syndicate agent
  components:
  - type: AutoTraitor
    profile: TraitorReinforcement

- type: entity
  id: MobMonkeySyndicateAgentNukeops # Reinforcement exclusive to nukeops uplink
  parent: MobBaseSyndicateMonkey
  suffix: NukeOps
  components:
  - type: NukeOperative

- type: entity
  name: guidebook monkey
  parent: MobMonkey
  categories: [ HideSpawnMenu ]
  id: MobGuidebookMonkey
  description: A hopefully helpful monkey whose only purpose in life is for you to click on. Does this count as having a monkey give you a tutorial?
  components:
    - type: GuidebookControlsTest

##  -Kobolds
- type: entity
  name: kobold
  id: MobBaseKobold
  parent: MobBaseAncestor
  description: Cousins to the sentient race of lizard people, kobolds blend in with their natural habitat and are as nasty as monkeys; ready to pull out your hair and stab you to death.
  abstract: true
  components:
  - type: Sprite
    drawdepth: Mobs
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      sprite: Mobs/Animals/kobold.rsi
      state: kobold
    - map: [ "outline" ]
      sprite: Mobs/Animals/kobold.rsi
      state: outline
    - map: [ "horns" ]
      sprite: Mobs/Customization/reptilian_parts.rsi
      state: horns_short
    - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
      color: "#ffffff"
      sprite: Objects/Misc/handcuffs.rsi
      state: body-overlay-2
      visible: false
    - map: [ "ears" ]
    - map: [ "id" ]
    - map: [ "mask" ]
    - map: [ "head" ]
    - map: [ "clownedon" ]
      sprite: "Effects/creampie.rsi"
      state: "creampie_human"
      visible: false
  - type: NameIdentifier
    group: Kobold
  - type: LizardAccent
  - type: ReplacementAccent
    accent: kobold
  - type: Speech
    speechSounds: Lizard
    speechVerb: Reptilian
    allowedEmotes: ['Thump']
  - type: Vocal
    sounds:
      Male: MaleReptilian
      Female: FemaleReptilian
      Unsexed: MaleReptilian
  - type: BodyEmotes
    soundsId: ReptilianBodyEmotes
  - type: TypingIndicator
    proto: lizard
  - type: InteractionPopup
    successChance: 0.9
    interactSuccessString: petting-success-reptile
    interactFailureString: petting-failure-reptile
    interactSuccessSpawn: EffectHearts
    interactSuccessSound:
      path: /Audio/Animals/lizard_happy.ogg
    interactFailureSound:
      path: /Audio/Items/wirecutter.ogg
  - type: MeleeWeapon
    soundHit:
      collection: AlienClaw
    angle: 30
    animation: WeaponArcClaw
    damage:
      types:
        Slash: 3
        Piercing: 3
  - type: RandomSprite
    getAllGroups: true
    available:
      - enum.DamageStateVisualLayers.Base:
          kobold: KoboldColors
      - horns:
          horns_curled: KoboldHornColors
          horns_ram: KoboldHornColors
          horns_short: KoboldHornColors
          horns_myrsore: KoboldHornColors
          horns_bighorn: KoboldHornColors
          horns_argali: KoboldHornColors
          horns_ayrshire: KoboldHornColors
          horns_floppy_kobold_ears: Inherit
          horns_double: Inherit
          horns_kobold_ears: Inherit
  - type: Butcherable
    butcheringType: Spike
    spawned:
    - id: FoodMeat
      amount: 2
  - type: GhostTakeoverAvailable
  - type: SentienceTarget
    flavorKind: station-event-random-sentience-flavor-kobold
  - type: GhostRole
    prob: 0.05
    makeSentient: true
    name: ghost-role-information-kobold-name
    description: ghost-role-information-kobold-description
    rules: ghost-role-information-nonantagonist-rules

- type: entity
  name: kobold
  id: MobKobold
  parent: MobBaseKobold
  components:
  - type: Clumsy
    gunShootFailDamage:
      types:
        Blunt: 5
        Piercing: 4
      groups:
        Burn: 3
    clumsySound:
      path: /Audio/Voice/Reptilian/reptilian_scream.ogg

- type: entity
  id: MobBaseSyndicateKobold
  parent: MobBaseKobold
  suffix: syndicate base
  components:
  - type: NpcFactionMember
    factions:
    - Syndicate
  - type: Loadout
    prototypes: [SyndicateOperativeGearMonkey]

- type: entity
  id: MobKoboldSyndicateAgent
  parent: MobBaseSyndicateKobold
  suffix: syndicate agent
  components:
  - type: AutoTraitor
    profile: TraitorReinforcement

- type: entity
  id: MobKoboldSyndicateAgentNukeops # Reinforcement exclusive to nukeops uplink
  parent: MobBaseSyndicateKobold
  suffix: NukeOps
  components:
  - type: NukeOperative

##  -Diona Nymphs
- type: entity
  name: diona nymph
  parent: [ MobAnimalBase, StripableInventoryBase ]
  id: MobDionaNymph
  description: It's like a cat, only.... branch-ier.
  components:
  - type: Sprite
    drawdepth: Mobs
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      state: nymph
      sprite: Mobs/Animals/nymph.rsi
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 100 # High, because wood is heavy.
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: Inventory
    speciesId: cat
    templateId: pet
  - type: Bloodstream
    bloodReagent: Sap
    bloodMaxVolume: 60
  - type: DamageStateVisuals
    states:
      Alive:
        Base: nymph
      Critical:
        Base: nymph_sleep
      Dead:
        Base: nymph_dead
  - type: Butcherable
    spawned:
    - id: MaterialWoodPlank1
      amount: 2
  - type: InteractionPopup
    successChance: 0.7
    interactSuccessString: petting-success-nymph
    interactFailureString: petting-failure-nymph
    interactSuccessSound:
      path: /Audio/Animals/nymph_chirp.ogg
  - type: MobThresholds
    thresholds:
      0: Alive
      30: Critical
      60: Dead
  - type: MovementSpeedModifier
    baseWalkSpeed : 2.5
    baseSprintSpeed : 4.5
  - type: Grammar
    attributes:
      gender: epicene
  - type: Speech
    speechVerb: Plant
    speechSounds: Alto
    allowedEmotes: ['Chirp']
  - type: Vocal
    sounds:
      Male: UnisexDiona
      Female: UnisexDiona
      Unsexed: UnisexDiona
  - type: Tag
    tags:
    - DoorBumpOpener
    - VimPilot
  - type: Emoting
  - type: BodyEmotes
    soundsId: Nymph
  - type: Reform
    actionPrototype: DionaReformAction
    reformTime: 10
    popupText: diona-reform-attempt
    reformPrototype: MobDionaReformed

- type: entity
  parent: MobDionaNymph
  id: MobDionaNymphAccent # No talky. For non-brain & wild nymphs
  suffix: Accent
  components:
  - type: ReplacementAccent
    accent: nymph
