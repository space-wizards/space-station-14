- type: reagent
  id: Desoxyephedrine
  name: reagent-name-desoxyephedrine
  group: Narcotics
  desc: reagent-desc-desoxyephedrine
  physicalDesc: reagent-physical-desc-translucent
  contrabandSeverity: Minor
  flavor: bitter
  color: "#FAFAFA"
  boilingPoint: 212.0  # Dexosyephedrine vape when?
  meltingPoint: 170.0
  metabolisms:
    Poison:
      # Main effects
      effects:
      - !type:HealthChange
        damage:
          types:
            Poison: 0.55
            Blunt: 0.5
      # OD
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Desoxyephedrine
          min: 16
        damage:
          types:
            Poison: 3 # this is added to the base damage of the meth.
            Asphyxiation: 2
    Narcotic:
      effects:
      # Main effects
      - !type:MovementSpeedModifier
        walkSpeedModifier: 1.20
        sprintSpeedModifier: 1.20
      - !type:ModifyStatusEffect
        effectProto: StatusEffectDesoxyStamina # You are on meth. You keep going.
        time: 3
      - !type:GenericStatusEffect
        key: Adrenaline
        component: IgnoreSlowOnDamage
        time: 3
      # Side effects
      - !type:Jitter
      - !type:GenericStatusEffect
        key: Stutter
        component: StutteringAccent
      - !type:ModifyStatusEffect
        effectProto: StatusEffectPainNumbness
        time: 2
      # Interactions
      - !type:ModifyStatusEffect
        conditions:
        - !type:ReagentCondition
          reagent: Haloperidol
          max: 0.01
        effectProto: StatusEffectDrowsiness
        time: 10
        type: Remove
    Medicine:
      effects:
      # Side effects
      - !type:ResetNarcolepsy
        conditions:
        - !type:ReagentCondition
          reagent: Desoxyephedrine
          min: 5

- type: reagent
  id: Ephedrine
  name: reagent-name-ephedrine
  group: Narcotics
  desc: reagent-desc-ephedrine
  physicalDesc: reagent-physical-desc-powdery
  flavor: bitter
  color: "#D2FFFA"
  boilingPoint: 255.0
  meltingPoint: 36.0
  metabolisms:
    Narcotic:
      effects:
      # Main effects
      - !type:MovementSpeedModifier
        walkSpeedModifier: 1.15
        sprintSpeedModifier: 1.15
      - !type:ModifyStatusEffect
        effectProto: StatusEffectStunned
        time: 1
        type: Remove
      - !type:ModifyKnockdown
        time: 1
        type: Remove
      # Side effects
      - !type:Jitter
      - !type:PopupMessage
        visualType: Medium
        messages: ["ephedrine-effect-tight-pain", "ephedrine-effect-heart-pounds"]
        type: Local
        probability: 0.05
      # OD
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Ephedrine
          min: 20
        damage:
          types:
            Poison: 2
            Asphyxiation: 2
      # Interactions
      - !type:ModifyStatusEffect
        conditions:
        - !type:ReagentCondition
          reagent: Haloperidol
          max: 0.01
        effectProto: StatusEffectDrowsiness
        time: 10
        type: Remove
    Medicine:
      effects:
      # Side effects
      - !type:ResetNarcolepsy
        conditions:
        - !type:ReagentCondition
          reagent: Ephedrine
          min: 15

- type: reagent
  id: Stimulants
  name: reagent-name-stimulants
  group: Narcotics
  desc: reagent-desc-stimulants
  physicalDesc: reagent-physical-desc-energizing
  contrabandSeverity: Syndicate
  flavor: sharp
  color: "#9A040E"
  boilingPoint: 212.0
  meltingPoint: 170.0
  metabolisms:
    Narcotic:
      effects:
      # Main effects
      - !type:MovementSpeedModifier
        walkSpeedModifier: 1.25
        sprintSpeedModifier: 1.25
      - !type:ModifyStatusEffect
        effectProto: StatusEffectStimulantsStamina # You are on meth. You keep going.
        time: 3
      - !type:ModifyStatusEffect
        effectProto: StatusEffectStunned
        time: 3.5
        type: Remove
      - !type:ModifyKnockdown
        time: 3.5
        type: Remove
      - !type:ModifyStatusEffect
        effectProto: StatusEffectForcedSleeping
        time: 3
        type: Remove
      - !type:GenericStatusEffect
        key: Adrenaline
        component: IgnoreSlowOnDamage
        time: 3
      # Side effects
      - !type:Jitter
      # OD
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Stimulants
          min: 45
        damage:
          types:
            Poison: 3
      # Interactions
      - !type:ModifyStatusEffect
        conditions:
        - !type:ReagentCondition
          reagent: Haloperidol
          max: 0.01
        effectProto: StatusEffectDrowsiness
        time: 10
        type: Remove
      - !type:AdjustReagent
        conditions:
        - !type:ReagentCondition
          reagent: ChloralHydrate
          min: 1
        reagent: ChloralHydrate
        amount: -10
    Medicine:
      effects:
      # Main effects
      - !type:ModifyBleed
        amount: -1.5
      - !type:EvenHealthChange
        conditions:
        - !type:TotalDamageCondition
          min: 70 # only heals when you're more dead than alive
        damage: # Doesn't heal poison because if you OD'd I'm not giving you a safety net
          Burn: -0.5
          Brute: -0.5
      - !type:HealthChange
        conditions:
        - !type:TotalDamageCondition
          min: 95 # Just to bring you back from the brink of death
        damage:
          types:
            Asphyxiation: -2
      # Side effects
      - !type:ResetNarcolepsy
      - !type:SatiateHunger
        factor: 1
      - !type:SatiateThirst
        factor: 1

- type: reagent
  id: THC
  name: reagent-name-thc
  group: Narcotics
  desc: reagent-desc-thc
  flavor: bitter
  flavorMinimum: 0.05
  color: "#808080"
  physicalDesc: reagent-physical-desc-crystalline
  plantMetabolism:
  - !type:PlantAdjustNutrition
    amount: -5
  - !type:PlantAdjustHealth
    amount: -1
  metabolisms:
    Narcotic:
      effects:
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        time: 16
        type: Add

- type: reagent
  id: Nicotine
  name: reagent-name-nicotine
  group: Narcotics
  desc: reagent-desc-nicotine
  flavor: bitter
  color: "#C0C0C0"
  physicalDesc: reagent-physical-desc-strong-smelling
  plantMetabolism:
  - !type:PlantAdjustHealth
    amount: -5

# TODO: Replace these nonstandardized effects with generic brain damage
- type: reagent
  id: Impedrezene
  name: reagent-name-impedrezene
  group: Narcotics
  desc: reagent-desc-impedrezene
  physicalDesc: reagent-physical-desc-acrid
  contrabandSeverity: Minor
  flavor: bitter
  color: "#215263"
  metabolisms:
    Narcotic:
      effects:
      - !type:MovementSpeedModifier
        walkSpeedModifier: 0.65
        sprintSpeedModifier: 0.65
      - !type:HealthChange
        damage:
          types:
            Poison: 2
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        time: 10
        type: Add
      - !type:Vomit # Vomiting is a symptom of brain damage
        probability: 0.05
      - !type:Drunk # Headaches and slurring are major symptoms of brain damage, this is close enough
        boozePower: 5

- type: reagent
  id: SpaceDrugs
  name: reagent-name-space-drugs
  group: Narcotics
  desc: reagent-desc-space-drugs
  physicalDesc: reagent-physical-desc-syrupy
  flavor: bitter
  color: "#63806e"
  metabolisms:
    Narcotic:
      effects:
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        type: Add
        time: 5

- type: reagent
  id: Bananadine
  name: reagent-name-bananadine
  group: Narcotics
  desc: reagent-desc-bananadine
  physicalDesc: reagent-physical-desc-powdery
  flavor: bitter
  color: "#ffff00"
  metabolisms:
    Narcotic:
      effects:
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        type: Add
        time: 5

# Probably replace this one with sleeping chem when putting someone in a comatose state is easier
- type: reagent
  id: Nocturine
  name: reagent-name-nocturine
  group: Narcotics
  desc: reagent-desc-nocturine
  physicalDesc: reagent-physical-desc-powdery
  contrabandSeverity: Syndicate
  color: "#128e80"
  boilingPoint: 444.0
  meltingPoint: 128.0
  metabolisms:
    Narcotic:
      effects: # It would be nice to have speech slurred or mumbly, but accents are a bit iffy atm. Same for distortion effects.
      - !type:MovementSpeedModifier
        walkSpeedModifier: 0.65
        sprintSpeedModifier: 0.65
      - !type:ModifyStatusEffect
        conditions:
        - !type:ReagentCondition
          reagent: Nocturine
          min: 8
        effectProto: StatusEffectForcedSleeping
        time: 9
        delay: 5

- type: reagent
  id: MuteToxin
  name: reagent-name-mute-toxin
  group: Narcotics
  desc: reagent-desc-mute-toxin
  physicalDesc: reagent-physical-desc-syrupy
  contrabandSeverity: Syndicate
  color: "#000000"
  boilingPoint: 255.0
  meltingPoint: 36.0
  metabolisms:
    Narcotic:
      effects:
      - !type:GenericStatusEffect
        key: Muted
        component: Muted
        type: Add
        time: 10

- type: reagent
  id: NorepinephricAcid
  name: reagent-name-norepinephric-acid
  group: Narcotics
  desc: reagent-desc-norepinephric-acid
  physicalDesc: reagent-physical-desc-milky
  contrabandSeverity: Minor
  flavor: salty
  color: "#96a8b5"
  boilingPoint: 255.0
  meltingPoint: 36.0
  metabolisms:
    Narcotic:
      effects:
      - !type:PopupMessage
        type: Local
        messages:
        - generic-reagent-effect-burning-eyes
        - generic-reagent-effect-burning-eyes-a-bit
        - generic-reagent-effect-tearing-up
        - norepinephricacid-effect-eyelids
        - norepinephricacid-effect-eyes-itch
        - norepinephricacid-effect-vision-fade
        - norepinephricacid-effect-vision-fail
        probability: 0.08
      - !type:PopupMessage
        visualType: MediumCaution
        type: Local
        messages:
        - norepinephricacid-effect-eye-disconnect
        - norepinephricacid-effect-eye-pain
        - norepinephricacid-effect-darkness
        - norepinephricacid-effect-blindness
        conditions:
        - !type:ReagentCondition
          reagent: NorepinephricAcid
          min: 20
        probability: 0.03
        #If anyone wants to add a light dimming or grayscale effect when under 20u, be my guest
      - !type:GenericStatusEffect
        key: TemporaryBlindness
        component: TemporaryBlindness
        conditions:
        - !type:ReagentCondition
          reagent: NorepinephricAcid
          min: 20

- type: reagent
  id: TearGas
  name: reagent-name-tear-gas
  group: Narcotics
  desc: reagent-desc-tear-gas
  physicalDesc: reagent-physical-desc-milky
  allowedDepartments:
  - Security
  flavor: salty
  color: "#ffffff4d"
  boilingPoint: 255.0
  meltingPoint: 36.0
  metabolisms:
    Narcotic:
      effects:
      - !type:PopupMessage
        type: Local
        probability: 0.08
        messages:
        - generic-reagent-effect-burning-eyes
        - generic-reagent-effect-burning-eyes-a-bit
        - generic-reagent-effect-tearing-up
        - norepinephricacid-effect-eyelids
        - norepinephricacid-effect-eyes-itch
        - norepinephricacid-effect-vision-fade
        - norepinephricacid-effect-vision-fail
      - !type:PopupMessage
        type: Local
        visualType: MediumCaution
        probability: 0.03
        messages:
        - norepinephricacid-effect-eye-disconnect
        - norepinephricacid-effect-eye-pain
        - norepinephricacid-effect-darkness
        - norepinephricacid-effect-blindness
      - !type:Emote
        emote: Scream
        probability: 0.08
        conditions:
        - !type:ReagentCondition
          reagent: TearGas
          min: 4
      - !type:Emote
        emote: Cough
        probability: 0.08
      - !type:GenericStatusEffect
        key: TemporaryBlindness
        component: TemporaryBlindness
        conditions:
        - !type:ReagentCondition
          reagent: TearGas
          min: 4
      - !type:MovementSpeedModifier
        walkSpeedModifier: 0.65
        sprintSpeedModifier: 0.65
        time: 1.5
        conditions: # because of the remainding after effect, threshold is given so the effects ends simultaniously
        - !type:ReagentCondition
          reagent: TearGas
          min: 4

- type: reagent
  id: Happiness
  name: reagent-name-happiness
  group: Narcotics
  desc: reagent-desc-happiness
  physicalDesc: reagent-physical-desc-soothing
  flavor: paintthinner
  color: "#EE35FF"
  metabolisms:
    Narcotic:
      effects:
      - !type:Emote
        emote: Laugh
        showInChat: true
        probability: 0.1
        conditions:
        - !type:ReagentCondition
          reagent: Happiness
          max: 20
      - !type:Emote
        emote: Whistle
        showInChat: true
        probability: 0.1
        conditions:
        - !type:ReagentCondition
          reagent: Happiness
          max: 20
      - !type:Emote
        emote: Crying
        showInChat: true
        probability: 0.1
        conditions:
        - !type:ReagentCondition
          reagent: Happiness
          min: 20
      - !type:PopupMessage # we dont have sanity/mood so this will have to do
        type: Local
        visualType: Medium
        messages:
        - "psicodine-effect-fearless"
        - "psicodine-effect-anxieties-wash-away"
        - "psicodine-effect-at-peace"
        probability: 0.2
        conditions:
        - !type:ReagentCondition
          reagent: Happiness
          max: 20
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        type: Add
        time: 5
